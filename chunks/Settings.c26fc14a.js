import{u as e,a as o,s as t,p as r,l as s,n as l,y as a,m as n,b as i}from"../index.07d7c58f.js";import{A as c}from"./AuthErrorHandler.d8d3d08b.js";const u=(e,o)=>{const{name:t,value:r}=o.target;return{...e,[t]:r}};function m(){const m=e(),{logout:d,resetErrors:p,user:f,updateUserDetails:g}=o((e=>({logout:e.logout,resetErrors:e.resetErrors,updateUserDetails:e.updateUserDetails,user:e.user}))),b=t(),[$,h]=r(u,{image:f.image,username:f.username,bio:f.bio,email:f.email,password:""}),[v,w]=s(!1),y=l((async()=>{(function(e){let o,t=e[0],r=1;for(;r<e.length;){const s=e[r],l=e[r+1];if(r+=2,("optionalAccess"===s||"optionalCall"===s)&&null==t)return;"access"===s||"optionalAccess"===s?(o=t,t=l(t)):"call"!==s&&"optionalCall"!==s||(t=l(((...e)=>t.call(o,...e))),o=void 0)}return t})([b,"access",e=>e.current,"optionalAccess",e=>e.checkValidity,"call",e=>e()])&&(w(!0),await g($),m.route(`/@${$.username}`))}),[m,$,g]);return a((()=>{p()}),[p]),n`<div class="settings-page"><div class="container page"><div class="row"><div class="col-md-6 offset-md-3 col-xs-12"><h1 class="text-xs-center">Your Settings</h1><${c}/><form ref=${b} onSubmit=${y} action="javascript:"><fieldset><fieldset class="form-group"><input class="form-control" type="url" name="image" placeholder="URL of profile picture" value=${$.image} onInput=${h}/></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="text" name="username" placeholder="Username" value=${$.username} onInput=${h}/></fieldset><fieldset class="form-group"><textarea class="form-control form-control-lg" name="bio" placeholder="Short bio about you" rows=${8} value=${$.bio} onInput=${h}/></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="email" name="email" placeholder="Email" required value=${$.email} onInput=${h}/></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="password" name="password" placeholder="Password" required pattern=".{8,}" autocomplete="new-password" value=${$.password} onInput=${h}/></fieldset><button class="btn btn-lg btn-primary pull-xs-right" type="submit"> Update Settings <${i} show=${v} style=${{marginLeft:"0.5rem"}} strokeColor="#fff" width="1em"/></button></fieldset></form><hr/><button class="btn btn-outline-danger" onClick=${()=>{d(),m.route("/")}}> Or click here to logout. </button></div></div></div></div>`}export default m;