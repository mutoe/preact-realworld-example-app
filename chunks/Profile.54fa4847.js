import{u as s,l as a,y as i,k as l,m as e,D as t,a as o,L as n,b as c,A as r,P as d}from"../index.01fc4fba.js";import{c as u,a as f,b as v}from"./profile.503154b6.js";function $($){const m=$.params.username.replace(/^@/,"")||"",{url:p}=s(),[g,b]=a({}),[w,h]=a([]),[y,A]=a(0),[x,C]=a(1),[k,P]=a(!1);return i((()=>{!async function(){b(await u(m))}()}),[m]),i((()=>{!async function(){P(!0);const{articles:s,articlesCount:a}=await l(x,{[/.*\/favorites/g.test(p)?"favorited":"author"]:m});h(s),A(a),P(!1)}()}),[p,x,m]),e`<div class="profile-page"><div class="user-info"><div class="container"><div class="row"><div class="col-xs-12 col-md-10 offset-md-1"><img src=${g.image||t} class="user-img"/><h4>${m}</h4><p>${g.bio}</p>${m==o((s=>function(s){let a,i=s[0],l=1;for(;l<s.length;){const e=s[l],t=s[l+1];if(l+=2,("optionalAccess"===e||"optionalCall"===e)&&null==i)return;"access"===e||"optionalAccess"===e?(a=i,i=t(i)):"call"!==e&&"optionalCall"!==e||(i=t(((...s)=>i.call(a,...s))),a=void 0)}return i}([s,"access",s=>s.user,"optionalAccess",s=>s.username])))?e`<${n} href="/settings" class="btn btn-sm btn-outline-secondary action-btn"><i class="ion-gear-a"/> Edit Profile Settings <//>`:e`<button class="btn btn-sm btn-outline-secondary action-btn" onClick=${async()=>{g.following?(b((s=>({...s,following:!1}))),await f(m)):(b((s=>({...s,following:!0}))),await v(m))}}><i class="ion-plus-round"/> ${g.following?"Unfollow":"Follow"} ${m}</button>`}</div></div></div></div><div class="container"><div class="row"><div class="col-xs-12 col-md-10 offset-md-1"><div class="articles-toggle"><ul class="nav nav-pills outline-active"><li class="nav-item"><${n} href=${`/@${g.username}`}>My Articles<//></li><li class="nav-item"><${n} href=${`/@${g.username}/favorites`}>Favorited Articles<//></li></ul></div>${k?e`<${c} show=${k} style=${{margin:"1rem auto",display:"flex"}} width="2em"/>`:w.length>0?w.map((s=>e`<${r} key=${s.slug} article=${s}/>`)):e`<div class="article-preview">No articles are here... yet.</div>`}<${d} count=${y} page=${x} setPage=${C}/></div></div></div></div>`}export default $;