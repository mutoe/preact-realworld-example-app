import{u as e,a as r,s,p as t,l as a,y as l,m as o,L as i,b as n}from"../index.7bfa38f5.js";import{A as c}from"./AuthErrorHandler.5a08e0a7.js";const u=(e,r)=>r.target.value;export default function({isRegister:d}){const f=e(),{login:p,register:m,resetErrors:g}=r(e=>({login:e.login,register:e.register,resetErrors:e.resetErrors})),$=s(),[v,h]=t(u,""),[b,w]=t(u,""),[x,y]=t(u,""),[E,A]=a(!1);return l(()=>{g()},[g]),o`<div class="auth-page"><div class="container page"><div class="row"><div class="col-md-6 offset-md-3 col-xs-12"><h1 class="text-xs-center">${d?"Sign up":"Sign in"}</h1><p class="text-xs-center">${d?o`<${i} href="/login">Have an account?<//>`:o`<${i} href="/register">Need an account?<//>`}</p><${c}/><form ref=${$} onSubmit=${async e=>{e.preventDefault(),function(e){let r=void 0,s=e[0],t=1;for(;t<e.length;){const a=e[t],l=e[t+1];if(t+=2,("optionalAccess"===a||"optionalCall"===a)&&null==s)return;"access"===a||"optionalAccess"===a?(r=s,s=l(s)):"call"!==a&&"optionalCall"!==a||(s=l((...e)=>s.call(r,...e)),r=void 0)}return s}([$,"access",e=>e.current,"optionalAccess",e=>e.checkValidity,"call",e=>e()])&&(A(!0),d?await m({username:v,email:b,password:x}):await p({email:b,password:x}),f.route("/"))}}>${d&&o`<fieldset class="form-group"><input class="form-control form-control-lg" type="text" placeholder="Username" aria-label="Username" required value=${v} onInput=${h}/></fieldset>`}<fieldset class="form-group"><input class="form-control form-control-lg" type="email" placeholder="Email" aria-label="Email" required value=${b} onInput=${w}/></fieldset><fieldset class="form-group"><input class="form-control form-control-lg" type="password" placeholder="Password" aria-label="Password" required pattern=".{8,}" minLength=${8} value=${x} onInput=${y}/></fieldset><button class="btn btn-lg btn-primary pull-xs-right" disabled=${d&&!v||!b||!x}>${d?"Sign up":"Sign in"}<${n} show=${E} style=${{marginLeft:"0.5rem"}} strokeColor="#fff" width="1em"/></button></form></div></div></div></div>`}